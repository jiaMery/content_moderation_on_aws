Test Event Name
test-text

Response
{
  "statusCode": 200,
  "content_moderation_result": {
    "file_uri": "s3://s3-exp-data/content_moderation_test_data/test.txt",
    "Text": "I am unhappy,and My name is Maria,email is xiaohua@amazon.com.\n",
    "Text_Bedrock_lable": " {\n  \"flag\": \"false\", \n  \"category\": \"none\",\n  \"reason\": \"The given text does not contain any explicit nudity, suggestive, violent, visually disturbing, rude gestures, drugs, tobacco, alcohol, gambling or hate symbols content according to the moderation policy. It only contains personal information like name, email and emotional state.\"\n}",
    "Text_comprehend_lable": {
      "Sentiment": "NEGATIVE",
      "SentimentScore": {
        "Positive": 0.0007658755639567971,
        "Negative": 0.9778977036476135,
        "Neutral": 0.021264728158712387,
        "Mixed": 0.00007161591929616407
      },
      "PII": {
        "Entities": [
          {
            "Score": 0.9999908208847046,
            "Type": "NAME",
            "BeginOffset": 28,
            "EndOffset": 33
          },
          {
            "Score": 0.9999548196792603,
            "Type": "EMAIL",
            "BeginOffset": 43,
            "EndOffset": 61
          }
        ],
        "ResponseMetadata": {
          "RequestId": "f843aa1e-1577-489f-a205-58e0a61a2591",
          "HTTPStatusCode": 200,
          "HTTPHeaders": {
            "x-amzn-requestid": "f843aa1e-1577-489f-a205-58e0a61a2591",
            "content-type": "application/x-amz-json-1.1",
            "content-length": "165",
            "date": "Tue, 14 Nov 2023 14:57:06 GMT"
          },
          "RetryAttempts": 0
        }
      }
    }
  }
}

Function Logs
[INFO]	2023-11-14T14:57:03.220Z		Found credentials in environment variables.
START RequestId: a2dffd21-4d27-41c0-a82c-5c3011b6dfb4 Version: $LATEST
[INFO]	2023-11-14T14:57:03.363Z	a2dffd21-4d27-41c0-a82c-5c3011b6dfb4	{'Records': [{'eventVersion': '2.1', 'eventSource': 'aws:s3', 'awsRegion': 'us-east-1', 'eventTime': '2023-11-09T07: 38: 18.621Z', 'eventName': 'ObjectCreated:Put', 'userIdentity': {'principalId': 'AWS:AROAVUR3ILJPJZEV4HNZL:SageMaker'}, 'requestParameters': {'sourceIPAddress': '34.236.18.197'}, 'responseElements': {'x-amz-request-id': 'R18E0JV906GW0PN8', 'x-amz-id-2': 'bUJNjom+N9XpVZPUQ2CKWSUVJW+Ji92Cu1CgNqQ/XERwNnRdymIgh5bS63fH25Q1G/DR67UW+2Z/aOjQa3/9/bkLALDjWUIi'}, 's3': {'s3SchemaVersion': '1.0', 'configurationId': '2e327490-60cf-4612-9763-34ba34154616', 'bucket': {'name': 's3-exp-data', 'ownerIdentity': {'principalId': 'A2JXCANFTHXZLO'}, 'arn': 'arn:aws:s3:::s3-exp-data'}, 'object': {'key': 'content_moderation_test_data/test.txt', 'size': 250083, 'eTag': 'f4079b17c981b0e20e5eb1df20f03a98', 'sequencer': '00654C8C6A847DF3A2'}}}]}
[INFO]	2023-11-14T14:57:03.364Z	a2dffd21-4d27-41c0-a82c-5c3011b6dfb4	Put event handled successfully
[INFO]	2023-11-14T14:57:07.173Z	a2dffd21-4d27-41c0-a82c-5c3011b6dfb4	{'file_uri': 's3://s3-exp-data/content_moderation_test_data/test.txt', 'Text': 'I am unhappy,and My name is Maria,email is xiaohua@amazon.com.\n', 'Text_Bedrock_lable': ' {\n  "flag": "false", \n  "category": "none",\n  "reason": "The given text does not contain any explicit nudity, suggestive, violent, visually disturbing, rude gestures, drugs, tobacco, alcohol, gambling or hate symbols content according to the moderation policy. It only contains personal information like name, email and emotional state."\n}', 'Text_comprehend_lable': {'Sentiment': 'NEGATIVE', 'SentimentScore': {'Positive': 0.0007658755639567971, 'Negative': 0.9778977036476135, 'Neutral': 0.021264728158712387, 'Mixed': 7.161591929616407e-05}, 'PII': {'Entities': [{'Score': 0.9999908208847046, 'Type': 'NAME', 'BeginOffset': 28, 'EndOffset': 33}, {'Score': 0.9999548196792603, 'Type': 'EMAIL', 'BeginOffset': 43, 'EndOffset': 61}], 'ResponseMetadata': {'RequestId': 'f843aa1e-1577-489f-a205-58e0a61a2591', 'HTTPStatusCode': 200, 'HTTPHeaders': {'x-amzn-requestid': 'f843aa1e-1577-489f-a205-58e0a61a2591', 'content-type': 'application/x-amz-json-1.1', 'content-length': '165', 'date': 'Tue, 14 Nov 2023 14:57:06 GMT'}, 'RetryAttempts': 0}}}}
END RequestId: a2dffd21-4d27-41c0-a82c-5c3011b6dfb4
REPORT RequestId: a2dffd21-4d27-41c0-a82c-5c3011b6dfb4	Duration: 3811.70 ms	Billed Duration: 3812 ms	Memory Size: 10240 MB	Max Memory Used: 135 MB	Init Duration: 1398.32 ms

Request ID
a2dffd21-4d27-41c0-a82c-5c3011b6dfb4